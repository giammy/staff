{% extends 'baseroot.html.twig' %}

{% block title %}Newuser Page{% endblock %}

{% block body %}

{{ form_start(form) }}
{# {{ form_widget(form) }} #}
<table style="border-collapse: collapse;">
  <tr>
    <td> Cognome</td>
    <td> {{ form_widget(attribute(form, "surname"), { 'attr': {'size': '40'} }) }} </td>
    <td bgcolor="gray" style="border-left: 4px solid #000000;"></td>
    <td bgcolor="gray"><font color='white'>Campi facoltativi</font></td>
  </tr>
  <tr>
    <td> Nome</td>
    <td> {{ form_widget(attribute(form, "name"), { 'attr': {'size': '40'} }) }} </td>
    <td style="border-left: 4px solid #000000; padding-left: 10px"> Username</td>
    <td> {{ form_widget(attribute(form, "username"), { 'attr': {'size': '60'} }) }} </td>
  </tr>
  <tr>
    <td> Gruppo di appartenenza</td>
    <td> {{ form_widget(attribute(form, "groupName"), { 'attr': {'size': '1'} }) }} </td>
    <td style="border-left: 4px solid #000000; padding-left: 10px"> E-mail</td>
    <td> {{ form_widget(attribute(form, "email"), { 'attr': {'size': '60'} }) }} </td>
  </tr>
  <tr>
    <td> Capo Gruppo di</td>
    <td> {{ form_widget(attribute(form, "leaderOfGroup"), { 'attr': {'size': '1'} }) }} </td>
    <td style="border-left: 4px solid #000000; padding-left: 10px"> E-mail secondaria</td>
    <td> {{ form_widget(attribute(form, "secondaryEmail"), { 'attr': {'size': '60'} }) }} </td>
  </tr>
  <tr>
    <td> Qualifica</td>
    <td> {{ form_widget(attribute(form, "qualification"), { 'attr': {'size': '1'} }) }} </td>
    <td style="border-left: 4px solid #000000;"></td>
    <td></td>
  </tr>
  <tr>
    <td> Organizzazione</td>
    <td> {{ form_widget(attribute(form, "organization"), { 'attr': {'size': '1'} }) }} </td>
    <td style="border-left: 4px solid #000000; padding-left: 10px"> Telefono Ufficio</td>
    <td> {{ form_widget(attribute(form, "officePhone"), { 'attr': {'size': '60'} }) }} </td>
  </tr>
  {#<tr>
    <td> Ore all'anno - da contract calcolato part-time</td>
    <td> {{ form_widget(attribute(form, "totalHoursPerYear"), { 'attr': {'size': '60'} }) }} </td>
  </tr>#}
  <tr>
    <td> Ore all'anno (come da contratto) </td>
    <td> {{ form_widget(attribute(form, "totalContractualHoursPerYear"), { 'attr': {'size': '60'} }) }} </td>
    <td style="border-left: 4px solid #000000; padding-left: 10px"> Secondo Telefono Ufficio</td>
    <td> {{ form_widget(attribute(form, "officeMobile"), { 'attr': {'size': '60'} }) }} </td>
  </tr>
  <tr>
    <td> Percentuale PPY/part-time</td>
    <td> {{ form_widget(attribute(form, "parttimePercent"), { 'attr': {'size': '30'} }) }} </td>
    <td style="border-left: 4px solid #000000; padding-left: 10px"> Posizione Ufficio</td>
    <td> {{ form_widget(attribute(form, "officeLocation"), { 'attr': {'size': '60'} }) }} </td>
  </tr>
  <tr>
    <td> Timesheet abilitato?</td>
    <td> {{ form_widget(attribute(form, "isTimeSheetEnabled"), { 'attr': {'size': '2'} }) }} </td>
    <td style="border-left: 4px solid #000000;"></td>
  </tr>
  <tr>
    <td> Data Inizio</td>
    <td> {{ form_widget(attribute(form, "validFrom"), { 'attr': {'size': '60'} }) }} </td>
    <td style="border-left: 4px solid #000000; padding-left: 10px"><b>Note</b></td>
    <td> {{ form_widget(attribute(form, "note"), { 'attr': {'size': '60'} }) }} </td>
  </tr>
  <tr>
    <td> Data Fine</td>
    <td> {{ form_widget(attribute(form, "validTo"), { 'attr': {'size': '60'} }) }} </td>
    <td style="border-left: 4px solid #000000;"></td>
  </tr>

  <tr>
    <td>
      <center>
      <a href="{{ path('showall') }}" class="button" style="width:80%">ANNULLA</a>
      </center>
    </td>
    <td></td>
    <td>
      <center>{{ form_widget(attribute(form, "newrecord")) }}</center>
    </td>
    <td>
      <center>{{ form_widget(attribute(form, "update")) }}</center>
    </td>
  </tr>
</table>

  {% if userBelongsTo(users_beta, username) %}
  <hr>
  <table>
    <tr>
    <!-- descriptions' fields -->
      <td>
        <!-- {{ form_widget(attribute(form, "descriptionL1"), { 'attr': {'size': '40'} }) }}  -->
        Short description
        {{ form_widget(attribute(form, "descriptionD1"), { 'attr': {'size': '60'} }) }}
        <hr>
        <!-- <div align="top">{{ form_widget(attribute(form, "descriptionL2"), { 'attr': {'size': '40'} }) }} </div> -->
        Activity <br>
        {{ form_widget(attribute(form, "descriptionD2"), { 'attr': {'rows': '10', 'cols': '80' } }) }}
      </td>

      <!-- attach's fields -->
      <td>
        {% if photoWeb is defined and photoWeb is not null and photoWeb is not empty %}
          <img src="/local/files/{{photoWeb}}" alt="photo" height="256" width="256">
        <br>
        {% endif %}
        Photo {{ form_widget(attribute(form, "photoWeb"), { 'attr': {'size': '40'} }) }}

      </td>
    </tr>
  </table>
  {% else %}
    {% do form.descriptionL1.setRendered() %}
    {% do form.descriptionL2.setRendered() %}
    {% do form.descriptionD1.setRendered() %}
    {% do form.descriptionD2.setRendered() %}
    {% do form.photoWeb.setRendered() %}
  {% endif %}

<br>
<hr>

{{ form_end(form) }}

{% endblock %}
